<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developper documentation &mdash; metobs_toolkit 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="User documentation" href="usrdocumentation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="index.html" class="icon icon-home">
            metobs_toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="usrdocumentation.html">User documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developper documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dataset">Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#station">Station</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#missing-timestamps">Missing timestamps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaps">Gaps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gap-class">Gap class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gap-collection-class">Gap_collection class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-data">Model data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-functions">Extra functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-convertors">convertors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-data_import">data import</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-writing_files">data writing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gap_filling">gap filling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-geometry_functions">geometry functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-landcover_functions">landcover functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plotting_functions">plotting functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quality-control">Quality control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-qc_checks">Quality control checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-qc_statistics">Quality control statistics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">metobs_toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developper documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/devdocumentation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developper-documentation">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Developper documentation</a><a class="headerlink" href="#developper-documentation" title="Permalink to this heading"></a></h1>
<p>bl bla bla</p>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#developper-documentation" id="id1">Developper documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#dataset" id="id2">Dataset</a></p></li>
<li><p><a class="reference internal" href="#station" id="id3">Station</a></p></li>
<li><p><a class="reference internal" href="#settings" id="id4">Settings</a></p></li>
<li><p><a class="reference internal" href="#missing-timestamps" id="id5">Missing timestamps</a></p></li>
<li><p><a class="reference internal" href="#gaps" id="id6">Gaps</a></p>
<ul>
<li><p><a class="reference internal" href="#gap-class" id="id7">Gap class</a></p></li>
<li><p><a class="reference internal" href="#gap-collection-class" id="id8">Gap_collection class</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-data" id="id9">Model data</a></p></li>
<li><p><a class="reference internal" href="#extra-functions" id="id10">Extra functions</a></p>
<ul>
<li><p><a class="reference internal" href="#module-convertors" id="id11">convertors</a></p></li>
<li><p><a class="reference internal" href="#module-data_import" id="id12">data import</a></p></li>
<li><p><a class="reference internal" href="#module-writing_files" id="id13">data writing</a></p></li>
<li><p><a class="reference internal" href="#module-gap_filling" id="id14">gap filling</a></p></li>
<li><p><a class="reference internal" href="#module-geometry_functions" id="id15">geometry functions</a></p></li>
<li><p><a class="reference internal" href="#module-landcover_functions" id="id16">landcover functions</a></p></li>
<li><p><a class="reference internal" href="#module-plotting_functions" id="id17">plotting functions</a></p></li>
<li><p><a class="reference internal" href="#quality-control" id="id18">Quality control</a></p>
<ul>
<li><p><a class="reference internal" href="#module-qc_checks" id="id19">Quality control checks</a></p></li>
<li><p><a class="reference internal" href="#module-qc_statistics" id="id20">Quality control statistics</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<div class="toctree-wrapper compound">
</div>
<section id="dataset">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Dataset</a><a class="headerlink" href="#dataset" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dataset.Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dataset.</span></span><span class="sig-name descname"><span class="pre">Dataset</span></span><a class="reference internal" href="_modules/dataset.html#Dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.apply_quality_control">
<span class="sig-name descname"><span class="pre">apply_quality_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gross_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repetitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_variation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.apply_quality_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.apply_quality_control" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Apply quality control methods to the dataset. The default settings
are used, and can be changed in the settings_files/qc_settings.py</p>
<p>The checks are performed in a sequence: gross_vallue –&gt;
persistance –&gt; …, Outliers by a previous check are ignored in the
following checks!</p>
<p>The dataset is updated inline.</p>
<p>Parameters</p>
<dl class="simple">
<dt>obstype<span class="classifier">String, optional</span></dt><dd><p>Name of the observationtype you want to apply the checks on. The
default is ‘temp’.</p>
</dd>
<dt>gross_value<span class="classifier">Bool, optional</span></dt><dd><p>If True the gross_value check is applied if False not. The default
is True.</p>
</dd>
<dt>persistance<span class="classifier">Bool, optional</span></dt><dd><p>If True the persistance check is applied if False not. The default
is True.. The default is True.</p>
</dd>
<dt>step<span class="classifier">Bool, optional</span></dt><dd><p>If True the step check is applied if False not. The default is True.</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>internal_consistency<span class="classifier">Bool, optional</span></dt><dd><p>If True the internal consistency check is applied if False not. The
default is True.</p>
</dd>
<dt>qc_info: Bool, optional</dt><dd><blockquote>
<div><p>If True info about the quality control is printed if False not. The
default is True.</p>
</div></blockquote>
<dl class="simple">
<dt>ignore_val<span class="classifier">numeric, optional</span></dt><dd><p>Values to ignore in the quality checks. The default is np.nan.</p>
</dd>
</dl>
<p>Returns</p>
<p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.coarsen_time_resolution">
<span class="sig-name descname"><span class="pre">coarsen_time_resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.coarsen_time_resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.coarsen_time_resolution" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.combine_all_to_obsspace">
<span class="sig-name descname"><span class="pre">combine_all_to_obsspace</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.combine_all_to_obsspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.combine_all_to_obsspace" title="Permalink to this definition"></a></dt>
<dd><p>Combine observations, outliers, gaps and missing timesteps to one
dataframe in the resolution of the dataset. Final quality labels are
calculated for all checked obstypes.</p>
<p>If an observation value exist for an outlier, it will be used in the
corresponding obstype column.</p>
<p>Returns</p>
<dl class="simple">
<dt>comb_df<span class="classifier">pandas.DataFrame()</span></dt><dd><p>Multi index dataframe with observations and labels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.fill_gaps_era5">
<span class="sig-name descname"><span class="pre">fill_gaps_era5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modeldata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'debias'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.fill_gaps_era5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.fill_gaps_era5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.fill_gaps_linear">
<span class="sig-name descname"><span class="pre">fill_gaps_linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.fill_gaps_linear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.fill_gaps_linear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_altitude">
<span class="sig-name descname"><span class="pre">get_altitude</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_altitude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_landcover">
<span class="sig-name descname"><span class="pre">get_landcover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_landcover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_landcover" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_lcz">
<span class="sig-name descname"><span class="pre">get_lcz</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_lcz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_lcz" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_modeldata">
<span class="sig-name descname"><span class="pre">get_modeldata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERA5_hourly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_modeldata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_modeldata" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_qc_stats">
<span class="sig-name descname"><span class="pre">get_qc_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stationnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_qc_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_qc_stats" title="Permalink to this definition"></a></dt>
<dd><p>Compute frequency statistics on the qc labels for an observationtype.
The output is a dataframe containing the frequency statistics presented
as percentages.</p>
<p>These frequencies can also be presented as a collection of piecharts
per check.</p>
<p>With stationnames you can subset the data to one ore multiple stations.</p>
<p>Parameters</p>
<dl class="simple">
<dt>obstype<span class="classifier">Str, optional</span></dt><dd><p>Observation type to analyse the QC labels on. The default is
‘temp’.</p>
</dd>
<dt>stationnames<span class="classifier">List, Str, optional</span></dt><dd><p>Stationname(s) to subset the quality labels on. If None, all
stations are used. The default is None.</p>
</dd>
<dt>make_plot<span class="classifier">Bool, optional</span></dt><dd><p>If True, a plot with piecharts is generated. The default is True.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>dataset_qc_stats<span class="classifier">pandas.DataFrame</span></dt><dd><p>A table containing the label frequencies per check presented
as percentages0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.get_station">
<span class="sig-name descname"><span class="pre">get_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stationname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.get_station"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.get_station" title="Permalink to this definition"></a></dt>
<dd><p>Extract a station object from the dataset by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stationname</strong> (<em>String</em>) – The name of the station</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The station object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>metobs_toolkit.Station</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.import_data_from_database">
<span class="sig-name descname"><span class="pre">import_data_from_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coarsen_timeres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.import_data_from_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.import_data_from_database" title="Permalink to this definition"></a></dt>
<dd><p>Function to import data directly from the framboos database and
updating the network and station objects.</p>
<p>Parameters</p>
<dl class="simple">
<dt>start_datetime<span class="classifier">datetime, optional</span></dt><dd><p>Start datetime of the observations. The default is None and using
yesterday’s midnight.</p>
</dd>
<dt>end_datetime<span class="classifier">datetime, optional</span></dt><dd><p>End datetime of the observations. The default is None and using
todays midnight.</p>
</dd>
<dt>coarsen_timeres<span class="classifier">Bool, optional</span></dt><dd><p>If True, the observations will be interpolated to a coarser
time resolution as is defined in the Settings. The default
is False.</p>
</dd>
</dl>
<p>Returns</p>
<p>None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.import_data_from_file">
<span class="sig-name descname"><span class="pre">import_data_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vlinder'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coarsen_timeres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.import_data_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.import_data_from_file" title="Permalink to this definition"></a></dt>
<dd><p>Read observations from a csv file as defined in the
Settings.input_file. The input file columns should have a template
that is stored in Settings.template_list.</p>
<p>If the metadata is stored in a seperate file, and the
Settings.input_metadata_file is correct, than this metadata is also
imported (if a suitable template is in the Settings.template_list.)</p>
<p>It is possible to apply a
resampling (downsampling) of the observations as defined in the settings.</p>
<p>After the import there is always a call to Dataset.update_dataset_by_df, that
sets up the dataset with the observations and applies some sanity checks.</p>
<p>Parameters</p>
<dl class="simple">
<dt>network<span class="classifier">String, optional</span></dt><dd><p>The name of the network for these observations. The default
is ‘vlinder’.</p>
</dd>
<dt>coarsen_timeres<span class="classifier">Bool, optional</span></dt><dd><p>If True, the observations will be interpolated to a coarser
time resolution as is defined in the Settings. The default
is False.</p>
</dd>
</dl>
<p>Returns</p>
<p>None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.make_geo_plot">
<span class="sig-name descname"><span class="pre">make_geo_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinstance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.make_geo_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.make_geo_plot" title="Permalink to this definition"></a></dt>
<dd><p>This functions creates a geospatial plot for a field
(observations or attributes) of all stations.</p>
<p>If the field is timedepending, than the timeinstance is used to plot
the field status at that datetime.</p>
<p>If the field is categorical than the leged will have categorical
values, else a colorbar is used.</p>
<p>All styling attributes are extracted from the Settings.</p>
<p>Parameters</p>
<dl class="simple">
<dt>variable<span class="classifier">String, optional</span></dt><dd><p>Fieldname to visualise. This can be an observation or station
attribute. The default is ‘temp’.</p>
</dd>
<dt>title<span class="classifier">String, optional</span></dt><dd><p>Title of the figure, if None a default title is generated. The
default is None.</p>
</dd>
<dt>timeinstance<span class="classifier">datetime, optional</span></dt><dd><p>Datetime moment of the geospatial plot. The default is None and the
first datetime available is used.</p>
</dd>
<dt>legend<span class="classifier">Bool, optional</span></dt><dd><p>Add legend to the figure. The default is True.</p>
</dd>
<dt>vmin<span class="classifier">float, optional</span></dt><dd><p>The minimum value corresponding to the minimum color.
The default is None and the minimum of the variable is used.</p>
</dd>
<dt>vmax<span class="classifier">float, optional</span></dt><dd><p>The maximum value corresponding to the minimum color. The default is
None and the maximum of the variable is used.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>ax<span class="classifier">Geoaxes</span></dt><dd><p>The geoaxes is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.make_plot">
<span class="sig-name descname"><span class="pre">make_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stationnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outliers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.make_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.make_plot" title="Permalink to this definition"></a></dt>
<dd><p>This function creates a timeseries plot for the dataset. The variable observation type
is plotted for all stationnames from a starttime to an endtime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stationnames</strong> (<em>list</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – A list with stationnames to include in the timeseries. If None is given, all the stations are used, defaults to None.</p></li>
<li><p><strong>obstype</strong> – The observation type to plot, defaults to ‘temp’.</p></li>
<li><p><strong>colorby</strong> (<em>'label'</em><em> or </em><em>'name'</em><em>, </em><em>optional</em>) – Indicate how colors should be assigned to the lines. ‘label’ will color the lines by their quality control label. ‘name’ will color by each station, defaults to ‘name’.</p></li>
<li><p><strong>starttime</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Specifiy the start datetime for the plot. If None is given it will use the start datetime of the dataset, defaults to None.</p></li>
<li><p><strong>endtime</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Specifiy the end datetime for the plot. If None is given it will use the end datetime of the dataset, defaults to None.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>optional</em>) – The title for the plot. If None is given a default title is used, defaults to None.</p></li>
<li><p><strong>legend</strong> (<em>Boolean</em><em>, </em><em>optional</em>) – When thrue a legend is added to the plot, defaults to True</p></li>
<li><p><strong>show_outliers</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true the observations labeld as outliers will be included in the plot, defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.pyplot.axis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.show" title="Permalink to this definition"></a></dt>
<dd><p>A function to print out some overview information about the Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>No return</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>No return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.show_settings">
<span class="sig-name descname"><span class="pre">show_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.show_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.show_settings" title="Permalink to this definition"></a></dt>
<dd><p>A function that prints out all the settings, structured per thematic.
:return: No return
:rtype: No return</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.update_dataset_by_df">
<span class="sig-name descname"><span class="pre">update_dataset_by_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coarsen_timeres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.update_dataset_by_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.update_dataset_by_df" title="Permalink to this definition"></a></dt>
<dd><p>Update the dataset object by a dataframe.</p>
<p>When filling the observations, there is an automatic check for
missing timestamps and duplicating timestamps. If a missing timestamp
is detected, the timestamp is created with Nan values for all
observation types.</p>
<p>If metadata is present and a LCZ-tiff file availible, than the LCZ’s
of the stations are computed.</p>
<p>Parameters</p>
<p>dataframe : pandas.DataFrame
A dataframe that has an datetimeindex and following columns:</p>
<blockquote>
<div><p>‘name, temp, radiation_temp, humidity, …’</p>
</div></blockquote>
<p>Returns</p>
<p>None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.update_outliersdf">
<span class="sig-name descname"><span class="pre">update_outliersdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">add_to_outliersdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.update_outliersdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.update_outliersdf" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.update_settings">
<span class="sig-name descname"><span class="pre">update_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_data_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_metadata_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_template_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_template_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.update_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.update_settings" title="Permalink to this definition"></a></dt>
<dd><p>Update the most common input-output (IO) settings.
(This should be applied before importing the observations.)</p>
<p>When an update value is None, the specific setting will not be updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_folder</strong> (<em>String</em><em>, </em><em>optional</em>) – a directory to store the output to, defaults to None.</p></li>
<li><p><strong>input_data_file</strong> (<em>String</em><em>, </em><em>optional</em>) – Path to the input data file with observations, defaults to None.</p></li>
<li><p><strong>input_metadata_file</strong> (<em>String</em><em>, </em><em>optional</em>) – Path to the input metadata file, defaults to None</p></li>
<li><p><strong>data_template_file</strong> – Path to the mapper-template csv file to be used on the observations.</p></li>
</ul>
</dd>
</dl>
<p>If not given, the default template is used.
:type data_template_file: String, optional
:param metadata_template_file: Path to the mapper-template csv file to be used on the metadata.
If not given, the default template is used.
:type metadata_template_file: String, optional
:return: No return
:rtype: No return</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.update_timezone">
<span class="sig-name descname"><span class="pre">update_timezone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timezonestr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.update_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.update_timezone" title="Permalink to this definition"></a></dt>
<dd><p>Change the timezone of the input data. By default the Brussels timezone is assumed.
A valid timezonestring is an element of the pytz.all_timezones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timezonestr</strong> (<em>String</em>) – Timezone string of the input observations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dataset.Dataset.write_to_csv">
<span class="sig-name descname"><span class="pre">write_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_outliers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_gapfill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_final_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tlk_obsnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Dataset.write_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Dataset.write_to_csv" title="Permalink to this definition"></a></dt>
<dd><p>Write the dataset to a file where the observations, metadata and
(if available) the quality labels per observation type are merged
together.</p>
<p>A final qualty controll label for each
quality-controlled-observation type can be added in the outputfile.</p>
<p>The file will be writen to the Settings.outputfolder.</p>
<p>Parameters</p>
<dl class="simple">
<dt>filename<span class="classifier">string, optional</span></dt><dd><p>The name of the output csv file. If none, a standard-filename
is generated based on the period of data. The default is None.</p>
</dd>
<dt>add_final_labels<span class="classifier">Bool, optional</span></dt><dd><p>If True, a final qualty control label per observation type
is added as a column. The default is True.</p>
</dd>
</dl>
<p>Returns</p>
<p>None</p>
</dd></dl>

</dd></dl>

</section>
<section id="station">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Station</a><a class="headerlink" href="#station" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dataset.Station">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dataset.</span></span><span class="sig-name descname"><span class="pre">Station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gapfilldf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataset.html#Station"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataset.Station" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="settings">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Settings</a><a class="headerlink" href="#settings" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="settings.Settings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">settings.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><a class="reference internal" href="_modules/settings.html#Settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#settings.Settings" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="settings.Settings.copy_template_csv_files">
<span class="sig-name descname"><span class="pre">copy_template_csv_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/settings.html#Settings.copy_template_csv_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#settings.Settings.copy_template_csv_files" title="Permalink to this definition"></a></dt>
<dd><p>A function to copy the default template file to an other location. This
can be of use when creating a template file to start from the default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_folder</strong> (<em>String</em>) – Directory to copy the default template to (default_template.csv).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>No return</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>No return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="settings.Settings.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/settings.html#Settings.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#settings.Settings.show" title="Permalink to this definition"></a></dt>
<dd><p>A function that prints out all the settings, structured per thematic.
:return: No return
:rtype: No return</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="settings.Settings.update_IO">
<span class="sig-name descname"><span class="pre">update_IO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_data_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_metadata_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_template_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_template_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/settings.html#Settings.update_IO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#settings.Settings.update_IO" title="Permalink to this definition"></a></dt>
<dd><p>Update some settings that are relevent before data is imported. The self
object will be updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_folder</strong> (<em>String</em><em>, </em><em>optional</em>) – a directory to store the output to, defaults to None.</p></li>
<li><p><strong>input_data_file</strong> (<em>String</em><em>, </em><em>optional</em>) – Path to the input data file, defaults to None.</p></li>
<li><p><strong>input_metadata_file</strong> (<em>String</em><em>, </em><em>optional</em>) – Path to the input metadata file, defaults to None</p></li>
<li><p><strong>data_template_file</strong> – Path to the mapper-template csv file to be used on the observations.</p></li>
</ul>
</dd>
</dl>
<p>If not given, the default template is used.
:type data_template_file: String, optional
:param metadata_template_file: Path to the mapper-template csv file to be used on the metadata.
If not given, the default template is used.
:type metadata_template_file: String, optional
:return: No return
:rtype: No return</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="settings.Settings.update_timezone">
<span class="sig-name descname"><span class="pre">update_timezone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timezonestr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/settings.html#Settings.update_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#settings.Settings.update_timezone" title="Permalink to this definition"></a></dt>
<dd><p>Change the timezone of the input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timezonestr</strong> (<em>String</em>) – Timezone string of the input observations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="missing-timestamps">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Missing timestamps</a><a class="headerlink" href="#missing-timestamps" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="missingobs.Missingob_collection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">missingobs.</span></span><span class="sig-name descname"><span class="pre">Missingob_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">missing_obs_series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/missingobs.html#Missingob_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#missingobs.Missingob_collection" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="missingobs.Missingob_collection.get_missing_indx_in_obs_space">
<span class="sig-name descname"><span class="pre">get_missing_indx_in_obs_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutionseries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/missingobs.html#Missingob_collection.get_missing_indx_in_obs_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#missingobs.Missingob_collection.get_missing_indx_in_obs_space" title="Permalink to this definition"></a></dt>
<dd><p>Function to found which missing timestamps are expected in the observation space.
Because of time coarsening not all missing timestamps are expected in observation space.</p>
<p>This function handles each station seperatly because stations can have differnent resolution/timerange.</p>
<dl class="simple">
<dt>obsdf<span class="classifier">pandas.DataFrame()</span></dt><dd><p>Dataset.df.</p>
</dd>
<dt>resolutionseries<span class="classifier">pandas.Series() or Timedelta</span></dt><dd><p>Dataset.metadf[‘dataset_resolution’].</p>
</dd>
</dl>
<dl class="simple">
<dt>missing_obsspace<span class="classifier">pandas.MultiIndex</span></dt><dd><p>The multiindex (name - datetime) is returned with the missing timestamps that are expexted in the observation space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="missingobs.Missingob_collection.get_station_missingobs">
<span class="sig-name descname"><span class="pre">get_station_missingobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/missingobs.html#Missingob_collection.get_station_missingobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#missingobs.Missingob_collection.get_station_missingobs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="missingobs.Missingob_collection.remove_missing_from_obs">
<span class="sig-name descname"><span class="pre">remove_missing_from_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/missingobs.html#Missingob_collection.remove_missing_from_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#missingobs.Missingob_collection.remove_missing_from_obs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="gaps">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Gaps</a><a class="headerlink" href="#gaps" title="Permalink to this heading"></a></h2>
<section id="gap-class">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Gap class</a><a class="headerlink" href="#gap-class" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gap.Gap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gap.</span></span><span class="sig-name descname"><span class="pre">Gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap" title="Permalink to this definition"></a></dt>
<dd><p>Gap class holds all gap information and methods for gaps.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap.apply_interpolate_gap">
<span class="sig-name descname"><span class="pre">apply_interpolate_gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_consec_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap.apply_interpolate_gap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap.apply_interpolate_gap" title="Permalink to this definition"></a></dt>
<dd><p>Fill a Gap using a linear interpolation gapfill method for an obstype.</p>
<p>The filled datetimes (in dataset resolution) are returned in the form
af a multiindex pandas Series (name – datetime) as index.</p>
<dl class="simple">
<dt>obsdf<span class="classifier">Dataset.df</span></dt><dd><dl class="simple">
<dt>The Dataset.df attribute. (Needed to extract trailing/leading</dt><dd><p>observations.)</p>
</dd>
</dl>
</dd>
<dt>outliersdf<span class="classifier">Dataset.outliersdf</span></dt><dd><dl class="simple">
<dt>The Dataset.outliersdf attribute.(Needed to extract trailing/leading</dt><dd><p>observations.))</p>
</dd>
</dl>
</dd>
<dt>resolutionseries<span class="classifier">Datetime.timedelta</span></dt><dd><p>Resolution of the station observations in the dataset.</p>
</dd>
<dt>obstype<span class="classifier">String, optional</span></dt><dd><p>The observational type to apply gapfilling on. The default is ‘temp’.</p>
</dd>
<dt>method<span class="classifier">String, optional</span></dt><dd><p>Method to pass to the Numpy.interpolate function. The default is ‘time’.</p>
</dd>
<dt>max_consec_fill<span class="classifier">Integer, optional</span></dt><dd><p>Value to pass to the limit argument of Numpy.interpolate. The default is 100.</p>
</dd>
</dl>
<dl class="simple">
<dt>Pandas.Series</dt><dd><p>Multiindex Series with filled gap values in dataset space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap.get_leading_trailing_debias_periods">
<span class="sig-name descname"><span class="pre">get_leading_trailing_debias_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias_periods</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap.get_leading_trailing_debias_periods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap.get_leading_trailing_debias_periods" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap.to_df">
<span class="sig-name descname"><span class="pre">to_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap.to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap.to_df" title="Permalink to this definition"></a></dt>
<dd><p>Convert a Gap object to a dataframe (with one row). The station name is
the index and two colums (‘start_gap’, ‘end_gap’) are constructed.</p>
<dl class="simple">
<dt>pandas.DataFrame()</dt><dd><p>Gap in dataframe format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap.update_gaps_indx_in_obs_space">
<span class="sig-name descname"><span class="pre">update_gaps_indx_in_obs_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_res</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap.update_gaps_indx_in_obs_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap.update_gaps_indx_in_obs_space" title="Permalink to this definition"></a></dt>
<dd><p>Explode the gap, to the dataset resolution and format to a multiindex
with name – datetime.</p>
<p>In addition the last observation before the gap (leading), and first
observation (after) the gap are computed and stored in the df attribute.
(the outliers are used to look for leading and trailing observations.)</p>
<dl class="simple">
<dt>obsdf<span class="classifier">Dataset.df</span></dt><dd><dl class="simple">
<dt>The Dataset.df attribute. (Needed to extract trailing/leading</dt><dd><p>observations.)</p>
</dd>
</dl>
</dd>
<dt>outliersdf<span class="classifier">Dataset.outliersdf</span></dt><dd><dl class="simple">
<dt>The Dataset.outliersdf attribute.(Needed to extract trailing/leading</dt><dd><p>observations.))</p>
</dd>
</dl>
</dd>
<dt>resolutionseries<span class="classifier">Datetime.timedelta</span></dt><dd><p>Resolution of the station observations in the dataset.</p>
</dd>
</dl>
<p>None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap.update_leading_trailing_obs">
<span class="sig-name descname"><span class="pre">update_leading_trailing_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap.update_leading_trailing_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap.update_leading_trailing_obs" title="Permalink to this definition"></a></dt>
<dd><p>Add the leading (last obs before gap) and trailing (first obs after gap)
as extra columns to the self.df.</p>
<p>The obsdf and outliersdf are both used to scan for the leading and trailing obs.</p>
<dl class="simple">
<dt>obsdf<span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataset.df</p>
</dd>
<dt>outliersdf<span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataset.outliersdf</p>
</dd>
</dl>
<p>None.</p>
</dd></dl>

</dd></dl>

</section>
<section id="gap-collection-class">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Gap_collection class</a><a class="headerlink" href="#gap-collection-class" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gap.Gap_collection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gap.</span></span><span class="sig-name descname"><span class="pre">Gap_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gapsdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.apply_debias_era5_gapfill">
<span class="sig-name descname"><span class="pre">apply_debias_era5_gapfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eraModelData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.apply_debias_era5_gapfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.apply_debias_era5_gapfill" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.apply_interpolate_gaps">
<span class="sig-name descname"><span class="pre">apply_interpolate_gaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_consec_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.apply_interpolate_gaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.apply_interpolate_gaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.get_gaps_indx_in_obs_space">
<span class="sig-name descname"><span class="pre">get_gaps_indx_in_obs_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutionseries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.get_gaps_indx_in_obs_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.get_gaps_indx_in_obs_space" title="Permalink to this definition"></a></dt>
<dd><p>Explode the gaps, to the dataset resolution and format to a multiindex
with name – datetime.</p>
<p>In addition the last observation before the gap (leading), and first
observation (after) the gap are computed and stored in the df attribute.
(the outliers are used to look for leading and trailing observations.)</p>
<dl class="simple">
<dt>obsdf<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>outliersdf<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>resolutionseries<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
</dl>
<dl class="simple">
<dt>expanded_gabsidx_obsspace<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.get_station_gaps">
<span class="sig-name descname"><span class="pre">get_station_gaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.get_station_gaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.get_station_gaps" title="Permalink to this definition"></a></dt>
<dd><p>Extract a Gap_collection specific to one station. If no gaps are found
for the station, an empty Gap_collection is returned.</p>
<dl class="simple">
<dt>name<span class="classifier">String</span></dt><dd><p>Name of the station to extract a Gaps_collection from.</p>
</dd>
</dl>
<dl class="simple">
<dt>Gap_collection</dt><dd><p>A Gap collection specific of the specified station.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.remove_gaps_from_obs">
<span class="sig-name descname"><span class="pre">remove_gaps_from_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.remove_gaps_from_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.remove_gaps_from_obs" title="Permalink to this definition"></a></dt>
<dd><p>Remove station - datetime records that are in the gaps from the obsdf.</p>
<dl class="simple">
<dt>(Usefull when filling timestamps to a df, and if you whant to remove the</dt><dd><p>gaps.)</p>
</dd>
</dl>
<dl class="simple">
<dt>obsdf<span class="classifier">pandas.DataFrame()</span></dt><dd><p>A MultiIndex dataframe with name – datetime as index.</p>
</dd>
</dl>
<dl class="simple">
<dt>obsdf<span class="classifier">pandas.DataFrame()</span></dt><dd><p>The same dataframe with records inside gaps removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gap.Gap_collection.to_df">
<span class="sig-name descname"><span class="pre">to_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap.html#Gap_collection.to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap.Gap_collection.to_df" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<section id="model-data">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Model data</a><a class="headerlink" href="#model-data" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="modeldata.Modeldata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">modeldata.</span></span><span class="sig-name descname"><span class="pre">Modeldata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modelname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeldata.html#Modeldata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeldata.Modeldata" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="modeldata.Modeldata.get_ERA5_data">
<span class="sig-name descname"><span class="pre">get_ERA5_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeldata.html#Modeldata.get_ERA5_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeldata.Modeldata.get_ERA5_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modeldata.Modeldata.interpolate_modeldata">
<span class="sig-name descname"><span class="pre">interpolate_modeldata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_multiidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeldata.html#Modeldata.interpolate_modeldata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeldata.Modeldata.interpolate_modeldata" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modeldata.Modeldata.set_model_from_csv">
<span class="sig-name descname"><span class="pre">set_model_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csvpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERA5_hourly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatimezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTC'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeldata.html#Modeldata.set_model_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeldata.Modeldata.set_model_from_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="extra-functions">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Extra functions</a><a class="headerlink" href="#extra-functions" title="Permalink to this heading"></a></h2>
<section id="module-convertors">
<span id="convertors"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">convertors</a><a class="headerlink" href="#module-convertors" title="Permalink to this heading"></a></h3>
<p>Created on Fri Feb 24 09:34:00 2023</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="convertors.convert_to_toolkit_units">
<span class="sig-prename descclassname"><span class="pre">convertors.</span></span><span class="sig-name descname"><span class="pre">convert_to_toolkit_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convertors.html#convert_to_toolkit_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convertors.convert_to_toolkit_units" title="Permalink to this definition"></a></dt>
<dd><p>Convert the data to the toolkit perfered unit. Data can be a numeric value or an iterable. 
Data_unit is the unit of the input data.</p>
<p>The converted data AND the corresponding toolkit unit is returned.</p>
<dl class="simple">
<dt>data<span class="classifier">numeric, iterable</span></dt><dd><p>numeric data to be converted.</p>
</dd>
<dt>data_unit<span class="classifier">String</span></dt><dd><p>unit name of the data.</p>
</dd>
</dl>
<dl class="simple">
<dt>numeric, numpy.array</dt><dd><p>The data in toolkit units.</p>
</dd>
<dt>String</dt><dd><p>Corresponding toolkit unit name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convertors.expression_calculator">
<span class="sig-prename descclassname"><span class="pre">convertors.</span></span><span class="sig-name descname"><span class="pre">expression_calculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convertors.html#expression_calculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convertors.expression_calculator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-data_import">
<span id="data-import"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">data import</a><a class="headerlink" href="#module-data_import" title="Permalink to this heading"></a></h3>
<p>Created on Thu Sep 22 16:24:06 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="data_import.check_template_compatibility">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">check_template_compatibility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#check_template_compatibility"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.check_template_compatibility" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.compress_dict">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">compress_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valuesname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#compress_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.compress_dict" title="Permalink to this definition"></a></dt>
<dd><p>This function unnests a nested dictionary for a specific valuename that is a key in the nested dict.</p>
<dl class="simple">
<dt>nested_dict<span class="classifier">dict</span></dt><dd><p>Nested dictionary</p>
</dd>
<dt>valuesname<span class="classifier">str</span></dt><dd><p>Nested dict Key-name of nested dict.</p>
</dd>
</dl>
<dl class="simple">
<dt>returndict<span class="classifier">DICT</span></dt><dd><p>A dictionarry where the keys are kept that have the valuesname as a nesteddict key,
and values are the values of the values of the valuesname.
{[key-nested_dict-if-exists]: nested_dict[key-nested_dict-if-exists][valuesname]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.find_compatible_templatefor">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">find_compatible_templatefor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#find_compatible_templatefor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.find_compatible_templatefor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.import_data_from_csv">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">import_data_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#import_data_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.import_data_from_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.import_data_from_db">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">import_data_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_datetime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#import_data_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.import_data_from_db" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.import_metadata_from_csv">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">import_metadata_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#import_metadata_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.import_metadata_from_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_import.template_to_package_space">
<span class="sig-prename descclassname"><span class="pre">data_import.</span></span><span class="sig-name descname"><span class="pre">template_to_package_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specific_template</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_import.html#template_to_package_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_import.template_to_package_space" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-writing_files">
<span id="data-writing"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">data writing</a><a class="headerlink" href="#module-writing_files" title="Permalink to this heading"></a></h3>
<p>Created on Thu Mar  2 15:30:55 2023</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="writing_files.write_dataset_to_csv">
<span class="sig-prename descclassname"><span class="pre">writing_files.</span></span><span class="sig-name descname"><span class="pre">write_dataset_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/writing_files.html#write_dataset_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#writing_files.write_dataset_to_csv" title="Permalink to this definition"></a></dt>
<dd><p>Write the dataset to a file where the observations, metadata and (if available)
the quality labels per observation type are merged together.</p>
<p>A final qualty controll label for each quality-controlled-observation type
can be added in the outputfile.</p>
<p>The file will be writen to the Settings.outputfolder.</p>
<dl class="simple">
<dt>df: pandas.DataFrame</dt><dd><p>The merged dataframe containing observations, gaps, outliers and missing timestamps.</p>
</dd>
<dt>metadf: pandas.DataFrame</dt><dd><p>The Dataset.metadf attribute.</p>
</dd>
<dt>filename<span class="classifier">string, optional</span></dt><dd><p>The name of the output csv file. If none, a standard-filename is generated
based on the period of data. The default is None.</p>
</dd>
</dl>
<p>None</p>
</dd></dl>

</section>
<section id="module-gap_filling">
<span id="gap-filling"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">gap filling</a><a class="headerlink" href="#module-gap_filling" title="Permalink to this heading"></a></h3>
<p>Created on Tue Feb 28 17:05:26 2023</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="gap_filling.create_leading_trailing_debias_periods">
<span class="sig-prename descclassname"><span class="pre">gap_filling.</span></span><span class="sig-name descname"><span class="pre">create_leading_trailing_debias_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debias_period_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap_filling.html#create_leading_trailing_debias_periods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap_filling.create_leading_trailing_debias_periods" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gap_filling.get_sample_size">
<span class="sig-prename descclassname"><span class="pre">gap_filling.</span></span><span class="sig-name descname"><span class="pre">get_sample_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_duration_hours</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap_filling.html#get_sample_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap_filling.get_sample_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gap_filling.get_time_specific_biases">
<span class="sig-prename descclassname"><span class="pre">gap_filling.</span></span><span class="sig-name descname"><span class="pre">get_time_specific_biases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap_filling.html#get_time_specific_biases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap_filling.get_time_specific_biases" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gap_filling.interpolate_gap">
<span class="sig-prename descclassname"><span class="pre">gap_filling.</span></span><span class="sig-name descname"><span class="pre">interpolate_gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_consec_fill</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap_filling.html#interpolate_gap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap_filling.interpolate_gap" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gap_filling.make_era_bias_correction">
<span class="sig-prename descclassname"><span class="pre">gap_filling.</span></span><span class="sig-name descname"><span class="pre">make_era_bias_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leading_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trailing_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leading_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trailing_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gap_filling.html#make_era_bias_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gap_filling.make_era_bias_correction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-geometry_functions">
<span id="geometry-functions"></span><h3><a class="toc-backref" href="#id15" role="doc-backlink">geometry functions</a><a class="headerlink" href="#module-geometry_functions" title="Permalink to this heading"></a></h3>
<p>Created on Fri Oct 21 09:13:01 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="geometry_functions.extent_list_to_box">
<span class="sig-prename descclassname"><span class="pre">geometry_functions.</span></span><span class="sig-name descname"><span class="pre">extent_list_to_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extentlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geometry_functions.html#extent_list_to_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geometry_functions.extent_list_to_box" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geometry_functions.find_largest_extent">
<span class="sig-prename descclassname"><span class="pre">geometry_functions.</span></span><span class="sig-name descname"><span class="pre">find_largest_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extentlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geometry_functions.html#find_largest_extent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geometry_functions.find_largest_extent" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geometry_functions.gpd_to_extent_box">
<span class="sig-prename descclassname"><span class="pre">geometry_functions.</span></span><span class="sig-name descname"><span class="pre">gpd_to_extent_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geometry_functions.html#gpd_to_extent_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geometry_functions.gpd_to_extent_box" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-landcover_functions">
<span id="landcover-functions"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink">landcover functions</a><a class="headerlink" href="#module-landcover_functions" title="Permalink to this heading"></a></h3>
<p>Created on Wed Oct 19 11:28:36 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.connect_to_gee">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">connect_to_gee</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#connect_to_gee"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.connect_to_gee" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.coordinates_available">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">coordinates_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latcol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loncol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#coordinates_available"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.coordinates_available" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.coords_to_geometry">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">coords_to_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:4326'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#coords_to_geometry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.coords_to_geometry" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.extract_buffer_frequencies">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">extract_buffer_frequencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bufferradius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#extract_buffer_frequencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.extract_buffer_frequencies" title="Permalink to this definition"></a></dt>
<dd><p>Extract values for circular buffers for a given radius arround a point locations from a GEE categorical dataset.
The pointlocations are defined in a dataframe by EPSG:4326 lat lon coordinates.</p>
<p>A dataframe with the extracted values is returned.
The values are mapped to human classes if the dataset value type is labeld as categorical.</p>
<dl class="simple">
<dt>metadf<span class="classifier">pd.DataFrame</span></dt><dd><p>dataframe containing coordinates and a column “name”, representing the name for each location.</p>
</dd>
<dt>mapinfo<span class="classifier">Dict</span></dt><dd><p>The information about the GEE dataset.</p>
</dd>
<dt>latcolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of latitude values. The default is ‘lat’.</p>
</dd>
<dt>loncolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of longitude values. The default is ‘lon’.</p>
</dd>
</dl>
<dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A dataframe with name as index, all columns from the metadf + extracted extracted values column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.extract_pointvalues">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">extract_pointvalues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#extract_pointvalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.extract_pointvalues" title="Permalink to this definition"></a></dt>
<dd><p>Extract values for point locations from a GEE dataset.
The pointlocations are defined in a dataframe by EPSG:4326 lat lon coordinates.</p>
<p>A dataframe with the extracted values is returned.
The values are mapped to human classes if the dataset value type is labeld as categorical.</p>
<dl class="simple">
<dt>metadf<span class="classifier">pd.DataFrame</span></dt><dd><p>dataframe containing coordinates and a column “name”, representing the name for each location.</p>
</dd>
<dt>mapinfo<span class="classifier">Dict</span></dt><dd><p>The information about the GEE dataset.</p>
</dd>
<dt>output_column_name<span class="classifier">String</span></dt><dd><p>Column name for the extracted values.</p>
</dd>
<dt>latcolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of latitude values. The default is ‘lat’.</p>
</dd>
<dt>loncolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of longitude values. The default is ‘lon’.</p>
</dd>
</dl>
<dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A dataframe with name as index, all columns from the metadf + extracted extracted values column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.gee_extract_timeseries">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">gee_extract_timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latcolname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loncolname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#gee_extract_timeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.gee_extract_timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Extract a timeseries, for a given obstype, for point locations from a GEE dataset. The pointlocations are defined in a dataframe by EPSG:4326 lat lon coordinates.</p>
<p>The startdate is included, the enddate is excluded.</p>
<p>A multi-index dataframe with the timeseries is returned</p>
<dl class="simple">
<dt>metadf<span class="classifier">pd.DataFrame</span></dt><dd><p>dataframe containing coordinates and a column “name”, representing the name for each location.</p>
</dd>
<dt>mapinfo<span class="classifier">Dict</span></dt><dd><p>The information about the GEE dataset.</p>
</dd>
<dt>startdt<span class="classifier">datetime obj</span></dt><dd><p>Start datetime for timeseries (included).</p>
</dd>
<dt>enddt<span class="classifier">datetime obj</span></dt><dd><p>End datetime for timeseries (excluded).</p>
</dd>
<dt>obstype<span class="classifier">String, optional</span></dt><dd><p>toolkit observation type. The default is ‘temp’.</p>
</dd>
<dt>latcolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of latitude values. The default is ‘lat’.</p>
</dd>
<dt>loncolname<span class="classifier">String, optional</span></dt><dd><p>Columnname of longitude values. The default is ‘lon’.</p>
</dd>
</dl>
<dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A dataframe with name - datetime multiindex, all columns from the metadf + extracted timeseries
column with the same name as the obstype.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.get_ee_obj">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">get_ee_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#get_ee_obj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.get_ee_obj" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.height_extractor">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">height_extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#height_extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.height_extractor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.lc_fractions_extractor">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">lc_fractions_extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#lc_fractions_extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.lc_fractions_extractor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="landcover_functions.lcz_extractor">
<span class="sig-prename descclassname"><span class="pre">landcover_functions.</span></span><span class="sig-name descname"><span class="pre">lcz_extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapinfo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/landcover_functions.html#lcz_extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#landcover_functions.lcz_extractor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plotting_functions">
<span id="plotting-functions"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink">plotting functions</a><a class="headerlink" href="#module-plotting_functions" title="Permalink to this heading"></a></h3>
<p>Created on Fri Oct 21 11:26:52 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="plotting_functions.geospatial_plot">
<span class="sig-prename descclassname"><span class="pre">plotting_functions.</span></span><span class="sig-name descname"><span class="pre">geospatial_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plotdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinstance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotsettings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categorical_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name_mapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">world_boundaries_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting_functions.html#geospatial_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotting_functions.geospatial_plot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plotting_functions.qc_stats_pie">
<span class="sig-prename descclassname"><span class="pre">plotting_functions.</span></span><span class="sig-name descname"><span class="pre">qc_stats_pie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">final_stats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_stats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specific_stats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qc_check_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting_functions.html#qc_stats_pie"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotting_functions.qc_stats_pie" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plotting_functions.timeseries_plot">
<span class="sig-prename descclassname"><span class="pre">plotting_functions.</span></span><span class="sig-name descname"><span class="pre">timeseries_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mergedf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outliers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qc_info_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting_functions.html#timeseries_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotting_functions.timeseries_plot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="quality-control">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Quality control</a><a class="headerlink" href="#quality-control" title="Permalink to this heading"></a></h3>
<section id="module-qc_checks">
<span id="quality-control-checks"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink">Quality control checks</a><a class="headerlink" href="#module-qc_checks" title="Permalink to this heading"></a></h4>
<p>Created on Thu Oct  6 13:44:54 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.duplicate_timestamp_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">duplicate_timestamp_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#duplicate_timestamp_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.duplicate_timestamp_check" title="Permalink to this definition"></a></dt>
<dd><p>V3
Looking for duplcate timestaps per station. Duplicated records are removed by the method specified in the qc_settings.</p>
<p>Parameters</p>
<dl class="simple">
<dt>df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The observations dataframe of the dataset object (Dataset.df)</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>df<span class="classifier">pandas.DataFrame()</span></dt><dd><p>The observations dataframe updated for duplicate timestamps. Duplicated timestamps are removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.get_outliers_in_daterange">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">get_outliers_in_daterange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station_freq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#get_outliers_in_daterange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.get_outliers_in_daterange" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.gross_value_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">gross_value_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#gross_value_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.gross_value_check" title="Permalink to this definition"></a></dt>
<dd><p>Looking for values of an observation type that are not physical. These values are labeled and the physical limits are specified in the qc_settings.</p>
<p>Parameters</p>
<dl class="simple">
<dt>input_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series of the dataset object</p>
</dd>
<dt>obstype: String, optional</dt><dd><p>The observation type that has to be checked. The default is ‘temp’.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>updated_obs_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series updated for this check. Observations that didn’t pass are removed.</p>
</dd>
<dt>outlier_df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The collection of records flagged as outliers by this check.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.invalid_input_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">invalid_input_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#invalid_input_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.invalid_input_check" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.make_outlier_df_for_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">make_outlier_df_for_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_dt_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flagcolumnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_obstype_prefix_to_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stationname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetimelist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#make_outlier_df_for_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.make_outlier_df_for_check" title="Permalink to this definition"></a></dt>
<dd><p>V4
Helper function to create an outlier dataframe for the given station(s) and datetimes. This will be returned by
a quality control check and later added to the dastes.outlierdf.</p>
<p>Multiple commum inputstructures can be handles</p>
<p>A multiindex dataframe with the relevant observationtypes i.e. the values_in_dict and a specific quality flag column (i.g. the labels) is returned.</p>
<p>Parameters</p>
<dl class="simple">
<dt>station_dt_list<span class="classifier">MultiIndex or list of tuples: (name, datetime)</span></dt><dd><p>The stations with corresponding datetimes that are labeled as outliers.</p>
</dd>
<dt>values_in_dict<span class="classifier">Dictionary</span></dt><dd><p>A Dictionary {columnname: pd.Series()} with the values on which this check is applied.</p>
</dd>
<dt>flagcolumnname<span class="classifier">String</span></dt><dd><p>Name of the labels column</p>
</dd>
<dt>flag<span class="classifier">String</span></dt><dd><p>The label for all the outliers.</p>
</dd>
<dt>stationname<span class="classifier">String, optional</span></dt><dd><p>It is possible to give the name of one station. The default is None.</p>
</dd>
<dt>datetimelist<span class="classifier">DatetimeIndex or List, optional</span></dt><dd><p>The outlier timestamps for the stationname. The default is None.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>check_outliers<span class="classifier">pd.Dataframe</span></dt><dd><p>A multiindex (name – datetime) datatframe with one column (columname) and all
values are the flag.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.persistance_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">persistance_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_frequencies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#persistance_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.persistance_check" title="Permalink to this definition"></a></dt>
<dd><p>V3
Looking for values of an observation type that do not change during a timewindow. These are flagged as outliers.</p>
<p>In order to perform this check, at least N observations chould be in that time window.</p>
<p>Parameters</p>
<dl>
<dt>input_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series of the dataset object</p>
</dd>
<dt>obstype: String, optional</dt><dd><p>The observation type that has to be checked. The default is ‘temp’.</p>
<p>Returns</p>
<dl class="simple">
<dt>updated_obs_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series updated for this check. Observations that didn’t pass are removed.</p>
</dd>
<dt>outlier_df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The collection of records flagged as outliers by this check.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.repetitions_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">repetitions_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#repetitions_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.repetitions_check" title="Permalink to this definition"></a></dt>
<dd><p>Looking for values of an observation type that are repeated at least with the frequency specified in the qc_settings. These values are labeled.</p>
<p>Parameters</p>
<dl class="simple">
<dt>input_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series of the dataset object</p>
</dd>
<dt>obstype: String, optional</dt><dd><p>The observation type that has to be checked. The default is ‘temp’.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>updated_obs_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series updated for this check. Observations that didn’t pass are removed.</p>
</dd>
<dt>outlier_df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The collection of records flagged as outliers by this check.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.step_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">step_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#step_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.step_check" title="Permalink to this definition"></a></dt>
<dd><p>V3
Looking for jumps of the values of an observation type that are larger than the limit specified in the qc_settings. These values are removed from
the input series and combined in the outlier df.</p>
<p>The purpose of this check is to flag observations with a value that is too much different compared to the previous (not flagged) recorded value.</p>
<p>Parameters</p>
<dl>
<dt>input_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series of the dataset object</p>
</dd>
<dt>obstype: String, optional</dt><dd><blockquote>
<div><p>The observation type that has to be checked. The default is ‘temp’.</p>
</div></blockquote>
<p>Returns</p>
<dl class="simple">
<dt>updated_obs_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series updated for this check. Observations that didn’t pass are removed.</p>
</dd>
<dt>outlier_df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The collection of records flagged as outliers by this check.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="qc_checks.window_variation_check">
<span class="sig-prename descclassname"><span class="pre">qc_checks.</span></span><span class="sig-name descname"><span class="pre">window_variation_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_frequencies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_checks.html#window_variation_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_checks.window_variation_check" title="Permalink to this definition"></a></dt>
<dd><p>V3
Looking for jumps of the values of an observation type that are larger than the limit specified in the qc_settings. These values are removed from
the input series and combined in the outlier df.</p>
<p>There is a increament threshold (that is if there is a max value difference and the maximum value occured later than the minimum value occured.)
And vice versa is there a decreament threshold.</p>
<p>The check is only applied if there are at leas N observations in the time window.</p>
<p>Parameters</p>
<dl>
<dt>station_frequencies: pandas.Series</dt><dd><p>The series containing the dataset time-resolution for all stations (as index).</p>
</dd>
<dt>input_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series of the dataset object</p>
</dd>
<dt>obstype: String, optional</dt><dd><blockquote>
<div><p>The observation type that has to be checked. The default is ‘temp’.</p>
</div></blockquote>
<p>Returns</p>
<dl class="simple">
<dt>updated_obs_series<span class="classifier">pandas.Series</span></dt><dd><p>The observations series updated for this check. Observations that didn’t pass are removed.</p>
</dd>
<dt>outlier_df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The collection of records flagged as outliers by this check.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-qc_statistics">
<span id="quality-control-statistics"></span><h4><a class="toc-backref" href="#id20" role="doc-backlink">Quality control statistics</a><a class="headerlink" href="#module-qc_statistics" title="Permalink to this heading"></a></h4>
<p>Created on Fri Nov  25 13:44:54 2022</p>
<p>&#64;author: thoverga</p>
<dl class="py function">
<dt class="sig sig-object py" id="qc_statistics.get_freq_statistics">
<span class="sig-prename descclassname"><span class="pre">qc_statistics.</span></span><span class="sig-name descname"><span class="pre">get_freq_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comb_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaps_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qc_statistics.html#get_freq_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qc_statistics.get_freq_statistics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usrdocumentation.html" class="btn btn-neutral float-left" title="User documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Thomas Vergauwen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>