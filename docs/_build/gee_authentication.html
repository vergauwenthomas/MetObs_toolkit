<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using Google Earth Engine &mdash; metobs_toolkit 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Special topics" href="special_topics.html" />
    <link rel="prev" title="Mapping to the toolkit" href="template_mapping.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo_small.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="template_mapping.html">Mapping to the toolkit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Google Earth Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-of-a-google-account">Setup of a Google account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-of-a-google-developers-account">Setup of a Google developers account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-a-cloud-project-on-your-developer-account">Setup a cloud project on your developer account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enable-api-s-on-your-project">Enable API’s on your project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-your-gee-access">Test your GEE access</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="special_topics.html">Special topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">Using the GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing_link.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="paper/index.html">JOSS publication</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MetObs_documentation.html">MetObs toolkit Documentation for Users</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MetObs_documentation_full.html">MetObs toolkit Documentation for developers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">metobs_toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Using Google Earth Engine</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/gee_authentication.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-google-earth-engine">
<h1>Using Google Earth Engine<a class="headerlink" href="#using-google-earth-engine" title="Link to this heading"></a></h1>
<p>The Google Earth Engine is used to download geospatial information, and model data
to use for your dataset. This is done to avoid downloading/reprojecting/preprocessing large
geospatial datasets and to make it possible to switch easily between different datasets.</p>
<p>There are two methods that are used to download the GEE data:</p>
<ul class="simple">
<li><p>Directly to your computer –&gt; Only for small data transfers</p></li>
<li><p>To your Google drive –&gt; Only when the direct download is not possible.</p></li>
</ul>
<p>This page will help you how to set up your personal Google earth engine authentication.
This is needed because the GEE (Google earth engine) can only be used if you</p>
<ul class="simple">
<li><p>have a Google developers account (free of charge)</p></li>
<li><p>Create a cloud project on your developers account (sufficient free credits for these applications)</p></li>
<li><p>enable the GEE API on your project</p></li>
</ul>
<p>Here is a step-by-step guide on how to do this.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is to obtain a basic working setup. There are a lot of ways on how to
set up a googel cloud project, but we only cover the minimum required steps.</p>
</div>
<section id="setup-of-a-google-account">
<h2>Setup of a Google account<a class="headerlink" href="#setup-of-a-google-account" title="Link to this heading"></a></h2>
<p>If you do not have a Google account, start by creating one.</p>
</section>
<section id="setup-of-a-google-developers-account">
<h2>Setup of a Google developers account<a class="headerlink" href="#setup-of-a-google-developers-account" title="Link to this heading"></a></h2>
<p>A Google developers account is linked to your (regular) Google account.</p>
<ol class="arabic simple">
<li><p>open a browser, and login to Google with your account.</p></li>
<li><p>Go to this website, to create a developers account: <a class="reference external" href="https://developers.Google.com/">https://developers.Google.com/</a></p>
<ol class="arabic simple">
<li><p>Click on the three vertical dots –&gt; hit start</p></li>
<li><p>Fill in your name and (optional) affiliations –&gt; hit next</p></li>
<li><p>(optional) Select your interests –&gt; hit next</p></li>
<li><p>(optional) Confirm newsletter subscription –&gt; hit next</p></li>
</ol>
</li>
</ol>
<p>Done, you have set up a Google developer account</p>
</section>
<section id="setup-a-cloud-project-on-your-developer-account">
<h2>Setup a cloud project on your developer account<a class="headerlink" href="#setup-a-cloud-project-on-your-developer-account" title="Link to this heading"></a></h2>
<p>You need a cloud project to make use of the Google API’s. The API’s that are used by
the toolkit has quite a lot of free credentials, so you do not need to worry about
paying for these services.</p>
<ol class="arabic simple">
<li><p>Create a cloud project: <a class="reference external" href="https://console.cloud.Google.com/projectcreate?pli=1">https://console.cloud.Google.com/projectcreate?pli=1</a></p>
<ol class="arabic simple">
<li><p>Choose a project name and select No organization. –&gt; hit create</p></li>
<li><p>(It can take a few seconds to create your project, in the “Cloud overview” you should see your project appear.)</p></li>
</ol>
</li>
</ol>
</section>
<section id="enable-api-s-on-your-project">
<h2>Enable API’s on your project<a class="headerlink" href="#enable-api-s-on-your-project" title="Link to this heading"></a></h2>
<p>In the last step, you need to enable the use of some API’s on your project.</p>
<ol class="arabic simple">
<li><p>Go to your project platform page: <a class="reference external" href="https://console.cloud.Google.com/">https://console.cloud.Google.com/</a></p></li>
<li><p>Click on “APIs &amp; Services”</p></li>
<li><p>Click at the top on “+ ENABLE APIS AND SERVICES”</p>
<ol class="arabic simple">
<li><p>Search for the ‘Google Earth Engine API’, click on it –&gt; hit ENABLE</p></li>
<li><p>Register your GEE project: <a class="reference external" href="https://code.earthengine.Google.com/register">https://code.earthengine.Google.com/register</a></p>
<ol class="arabic simple">
<li><p>Hit “Use with a cloud project” –&gt; hit “Unpaid usage” and select ‘Academia &amp; Research’</p></li>
<li><p>Select “Choose an existing Google Cloud Project” –&gt; select your project –&gt; hit “CONTINUE TO SUMMARY”</p></li>
<li><p>Hit “CONFIRM AND CONTINUE”</p></li>
</ol>
</li>
</ol>
</li>
</ol>
</section>
<section id="test-your-gee-access">
<h2>Test your GEE access<a class="headerlink" href="#test-your-gee-access" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">metobs_toolkit</span>

<span class="c1"># Use the demo files, and extract LCZ from GEE</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="n">metobs_toolkit</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">update_settings</span><span class="p">(</span><span class="n">input_data_file</span><span class="o">=</span><span class="n">metobs_toolkit</span><span class="o">.</span><span class="n">demo_datafile</span><span class="p">,</span>
                        <span class="n">input_metadata_file</span><span class="o">=</span><span class="n">metobs_toolkit</span><span class="o">.</span><span class="n">demo_metadatafile</span><span class="p">,</span>
                        <span class="n">template_file</span><span class="o">=</span><span class="n">metobs_toolkit</span><span class="o">.</span><span class="n">demo_template</span><span class="p">)</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">import_data_from_file</span><span class="p">()</span>

<span class="c1"># Extract LCZ using GEE:</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_lcz</span><span class="p">()</span>

<span class="c1"># Selecting your cloud project:</span>
    <span class="c1"># 1. A link will appear, click on it</span>
    <span class="c1"># 2. (first time only) hit &#39;CHOOSE PROJECT&#39; and select your existing cloud project</span>
    <span class="c1"># 3. do NOT click the read_only scopes!</span>
    <span class="c1"># 4. hit &#39;GENERATE TOKEN&#39; --&gt; select your Google account --&gt; hit &#39;CONTINUE&#39;</span>
    <span class="c1"># 5. Select both boxes and hit &#39;Continue&#39;</span>
    <span class="c1"># 6. An authorization code is generated, copy it.</span>
    <span class="c1"># 7. In your notebook, paste the code in propted-box and hit Enter</span>


<span class="c1"># The LCZ are stored in the metadf attribute of your dataset.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">metadf</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you click on select ‘read-only’ scopes in the authentication, you can only
extract small data quantities from GEE. For larger data transfers, GEE will write
the data to file on your Google Drive, which will raise an error when you select
‘read-only’ scopes.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="template_mapping.html" class="btn btn-neutral float-left" title="Mapping to the toolkit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="special_topics.html" class="btn btn-neutral float-right" title="Special topics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Thomas Vergauwen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>